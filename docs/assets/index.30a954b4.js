var C=Object.defineProperty,N=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var f=(s,e,t)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,l=(s,e)=>{for(var t in e||(e={}))m.call(e,t)&&f(s,t,e[t]);if(c)for(var t of c(e))g.call(e,t)&&f(s,t,e[t]);return s},d=(s,e)=>N(s,S(e));var y=(s,e)=>{var t={};for(var a in s)m.call(s,a)&&e.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&c)for(var a of c(s))e.indexOf(a)<0&&g.call(s,a)&&(t[a]=s[a]);return t};import{n as _,r as v,P as b,C as L,R as r,c as k,s as M,a as O}from"./vendor.73ffecc0.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}};H();const h="react-codeflask",x=["ruby","html","css","javascript","java","php","shell","kotlin"];class u extends v.exports.Component{constructor(){super(...arguments);this.root=null,this.jar=null,this.state={minHeight:40},this.addLangs=()=>{x.forEach(e=>{this.jar.addLanguage(e,b.languages[e])})},this.autoUpdate=()=>{const{onChange:e}=this.props;e({target:{value:this.jar.code}}),this.setState({minHeight:this.compoutedMinHeight})}}get compoutedMinHeight(){var n,i;const e=(n=this.root)==null?void 0:n.querySelector(".codeflask__pre"),t=e==null?void 0:e.getBoundingClientRect().height,a=(i=this.root)==null?void 0:i.querySelectorAll(".codeflask__lines .codeflask__lines__line"),o=(a==null?void 0:a.length)==1?t:t+20;return Math.max(o,40)||0}get computedStyle(){const{style:e,height:t}=this.props;return t?d(l({},e),{height:t,minHeight:40}):d(l({},e),{minHeight:this.compoutedMinHeight})}shouldComponentUpdate(e){const{value:t}=e;return t!==this.jar.code&&this.jar.updateCode(t),!0}componentDidMount(){const{value:e,readOnly:t,options:a}=this.props,o=l({language:"js",readonly:t},a),n=this.root;this.jar=new L(n,o),this.addLangs(),this.jar.updateCode(e),this.jar.onUpdate(this.autoUpdate)}render(){const p=this.props,{className:e,value:t,onChange:a,height:o,language:n,options:i}=p,j=y(p,["className","value","onChange","height","language","options"]);return r.createElement("div",l({"data-component":h,className:k(h,e),style:this.computedStyle},j),r.createElement("div",{className:"is-editor",ref:E=>this.root=E}),r.createElement("span",{className:"language-name"},n))}}u.displayName=h;u.version="__VERSION__";u.defaultProps={height:0,onChange:_,value:"",language:"javascript",readOnly:!1,options:{lineNumbers:!0}};const A=M.div`
  width: 80%;
  margin: 30px auto 0;

  > .is-actions {
    margin-top: 10px;
  }
`;var P=()=>{const[s,e]=v.exports.useState("curl 'https://api.cdnjs.com/libraries/backbone.js/tutorials/this-tutorial-doesnt-exist' | json");return r.createElement(A,null,r.createElement(u,{value:s,height:0,language:"shell",disabled:!0,onChange:t=>{e(t.target.value)}}),r.createElement("div",{className:"is-actions"},r.createElement("button",{onClick:t=>{e(`const for="bar"; 
let bar="bc";`)}},"Set value.")))};O.render(r.createElement(r.StrictMode,null,r.createElement(P,null)),document.getElementById("root"));
