var _=Object.defineProperty,E=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var f=(n,e,t)=>e in n?_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l=(n,e)=>{for(var t in e||(e={}))m.call(e,t)&&f(n,t,e[t]);if(c)for(var t of c(e))g.call(e,t)&&f(n,t,e[t]);return n},d=(n,e)=>E(n,S(e));var v=(n,e)=>{var t={};for(var o in n)m.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&c)for(var o of c(n))e.indexOf(o)<0&&g.call(n,o)&&(t[o]=n[o]);return t};import{n as N,r as y,C as j,R as i,c as M,s as b,a as H}from"./vendor.9f9f49e8.js";const k=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};k();const h="react-codeflask";class u extends y.exports.Component{constructor(){super(...arguments);this.root=null,this.jar=null,this.state={minHeight:40},this.autoUpdate=()=>{const{onChange:e}=this.props;e({target:{value:this.jar.code}}),this.setState({minHeight:this.compoutedMinHeight})}}get compoutedMinHeight(){var s,a;const e=(s=this.root)==null?void 0:s.querySelector(".codeflask__pre"),t=e==null?void 0:e.getBoundingClientRect().height,o=(a=this.root)==null?void 0:a.querySelectorAll(".codeflask__lines .codeflask__lines__line"),r=(o==null?void 0:o.length)==1?t:t+20;return Math.max(r,40)||0}get computedStyle(){const{style:e,height:t}=this.props;return t?d(l({},e),{height:t,minHeight:40}):d(l({},e),{minHeight:this.compoutedMinHeight})}shouldComponentUpdate(e){const{value:t}=e;return t!==this.jar.code&&this.jar.updateCode(t),!0}componentDidMount(){const{value:e,language:t,options:o}=this.props,r=l({language:t},o),s=this.root;this.jar=new j(s,r),this.jar.updateCode(e),this.jar.onUpdate(this.autoUpdate)}render(){const p=this.props,{className:e,value:t,onChange:o,height:r,options:s}=p,a=v(p,["className","value","onChange","height","options"]);return i.createElement("div",l({"data-component":h,className:M(h,e),ref:C=>this.root=C,style:this.computedStyle},a))}}u.displayName=h;u.version="__VERSION__";u.defaultProps={height:0,onChange:N,value:"",language:"javascript",options:{lineNumbers:!0}};const x=b.div`
  width: 80%;
  margin: 30px auto 0;

  > .is-actions {
    margin-top: 10px;
  }
`;var L=n=>{const[e,t]=y.exports.useState('var hello = "hello world."');return i.createElement(x,null,i.createElement(u,{value:e,height:0,onChange:o=>{console.log("current value:",o.target.value),t(o.target.value)}}),i.createElement("div",{className:"is-actions"},i.createElement("button",{onClick:o=>{t(`const for="bar"; 
let bar="bc";`)}},"Set value.")))};H.render(i.createElement(i.StrictMode,null,i.createElement(L,null)),document.getElementById("root"));
